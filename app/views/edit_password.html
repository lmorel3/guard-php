<html lang="en"><head>
    <title>Guard â€’ Password</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/assets/style.css">
</head>
<body>

    <div class="container">
        <div class="wrapper">
            <form class="login-form" method="POST">

                <div class="logo-wrapper">
                    <img class="logo" src="/assets/logo.png" alt="Guard" />
                    <h2>Edit your password</h2>
                </div>

                <div class="notif-wrapper" style="display: {%displaySuccess%}">
                    <p>Password has been updated.</p>
                </div>

                <div class="input-wrapper">
                    <input type="password" name="old" placeholder="Current password" autofocus>
                </div>

                <div class="input-wrapper">
                    <input type="password" name="new" id="new_pwd" placeholder="New password">
                </div>

                <div class="input-wrapper">
                    <input type="password" placeholder="New password, again" id="new_pwd2" oninput="checkMatch()">
                </div>

                <div class="login-wrapper">
                    <button>Change</button>
                </div>

            </form>
        </div>
    </div>

    <script type="text/javascript">
        function checkMatch() {
            let pwd = document.querySelector("#new_pwd");
            let pwd2 = document.querySelector("#new_pwd2");

            if(pwd.value !== pwd2.value) {
                pwd2.classList.add('input-error');
            } else {
                pwd2.classList.remove('input-error');
            }
        }
    </script>

</body>
</html>